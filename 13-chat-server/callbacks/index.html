<html>
<head>
  <meta charset='utf-8'>
  <title>Socket.IO Express Example</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>

</head>
<body>
  <h1>Socket.IO Express Example</h1>
  <form id="set-nickname">
    <label for='nickmame'>Nickname:</label>
    <input type='text' id='nickname' />
    <input type='submit' />
  </form>

  <script>
    var socket = io.connect();
    $('#set-nickname').submit(function (e) {
      e.preventDefault();

      socket.emit('nickname', $('#nickname').val(), function (data) {
        if (data) {
          console.log('Nickname set successfully');
          $('#set-nickname').hide();
        } else {
          $('#set-nickname').prepend('<p>Sorry-Nickname already taken');
        }
      });
    });
  </script>


</body>
</html>